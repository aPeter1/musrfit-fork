# musrfit - cpack

include(CPackComponent)

set (CPACK_PACKAGE_NAME "musrfit-root6")
set (CPACK_PACKAGE_VENDOR "Paul Scherrer Institute - LMU - LEM")
set (CPACK_PACKAGE_DIRECTOR "@CMAKE_CURRENT_BINARY_DIR@/pack")
set (CPACK_PACKAGE_VERSION_MAJOR "@PROJECT_VERSION_MAJOR@")
set (CPACK_PACKAGE_VERSION_MINOR "@PROJECT_VERSION_MINOR@")
set (CPACK_PACKAGE_VERSION_PATCH "@PROJECT_VERSION_PATCH@")
set (CPACK_PACKAGE_CONTACT "<andreas.suter@psi.ch>")
set (CPACK_PACKAGE_DESCRIPTION_FILE "@PROJECT_SOURCE_DIR@/README.md")
set (CPACK_PACKAGE_DESCRIPTION_SUMMARY "musrfit - muSR data analysis package")
set (CPACK_PACKAGE_HOMEPAGE_URL "http://lmu.web.psi.ch/musrfit/user/html/index.html")
set (CPACK_PACKAGE_CHECKSUM "MD5")
set (CPACK_RESOURCE_FILE_LICENSE "@PROJECT_SOURCE_DIR@/COPYING")
set (CPACK_RESOURCE_FILE_README "@PROJECT_SOURCE_DIR@/README.md")
set (CPACK_RESOURCE_FILE_WELCOME "@PROJECT_SOURCE_DIR@/cmake/welcome.txt")

set (CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION "@CMAKE_INSTALL_PREFIX@;@CMAKE_INSTALL_PREFIX@/bin;@CMAKE_INSTALL_PREFIX@/include;@CMAKE_INSTALL_PREFIX@/share;@CMAKE_INSTALL_PREFIX@/lib64;@CMAKE_INSTALL_PREFIX@/lib;@CMAKE_INSTALL_PREFIX@/pkgconfig")

# we do not have any absolute paths, so do not need DESTDIR
set (CPACK_SET_DESTDIR "OFF")
set (CPACK_PACKAGE_RELOCATABLE "true")

if (${CPACK_GENERATOR} STREQUAL "RPM")
  set (CPACK_RPM_PACKAGE_REQUIRES "root >= 6.14.08") 
  set (CPACK_INSTALL_PREFIX "@CMAKE_INSTALL_PREFIX@")
  set (CPACK_PACKAGING_INSTALL_PREFIX "@CMAKE_INSTALL_PREFIX@")
  set (CPACK_RPM_FILE_NAME "RPM-DEFAULT")
  set (CPACK_RPM_PACKAGE_RELEASE "1")
  set (CPACK_RPM_PACKAGE_LICENSE "GPLv2")
  set (CPACK_RPM_PACKAGE_VENDOR "Paul Scherrer Institute - LMU - LEM")
  set (CPACK_RPM_CHANGELOG_FILE "@PROJECT_SOURCE_DIR@/cmake/ChangeLogRPM")
  set (CPACK_RPM_POST_INSTALL_SCRIPT_FILE "@PROJECT_SOURCE_DIR@/cmake/post_install.sh")
  set (CPACK_RPM_POST_UNINSTALL_SCRIPT_FILE "@PROJECT_SOURCE_DIR@/cmake/post_uninstall.sh")
endif ()

if (${CPACK_GENERATOR} STREQUAL "DEB")
  # to be populated yet
endif ()
